<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artron Frontend Component Visualization</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default', flowchart: { useMaxWidth: false, htmlLabels: true } });
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
            background-color: #f9f9f9;
        }

        h1,
        h2 {
            color: #333;
        }

        .diagram-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            overflow-x: auto;
        }

        .description {
            margin-bottom: 10px;
            color: #666;
            font-size: 0.9em;
        }

        .legend {
            font-size: 0.8em;
            margin-top: 10px;
            color: #888;
        }
    </style>
</head>

<body>

    <h1>Artron Frontend Architecture</h1>
    <p>Visualizing the relationship between Layouts, Pages, Components, and Utilities.</p>

    <h2>1. Page & Component Hierarchy</h2>
    <div class="description">
        This chart details how the <b>Main Layout</b> wraps all pages, and which reusable <b>Components</b> are used by
        specific <b>Pages</b>.
    </div>
    <div class="diagram-container">
        <pre class="mermaid">
graph TD
    %% Nodes
    Layout[Main Layout <br/> app/main/layout.tsx]
    Ctx[Language Context <br/> contexts/LanguageContext]
    
    subgraph "Global UI Components"
        Sidebar[Sidebar <br/> components/Sidebar.tsx]
        Header[Header <br/> components/Header.tsx]
    end

    subgraph "Pages (Routes)"
        Dash[Dashboard Page <br/> app/dashboard/page.tsx]
        Users[User List Page <br/> app/users/page.tsx]
        Pass[Passes Page <br/> app/passes/page.tsx]
        Settings[Settings Page <br/> app/settings/page.tsx]
    end

    subgraph "Reusable UI Widgets"
        Stat[StatCard <br/> components/StatCard.tsx]
        Icons[Lucide React Icons]
        Recharts[Recharts Library]
    end
    
    %% Relationships
    Layout --> Ctx
    Layout --> Sidebar
    Layout --> Header
    Layout -. Renders .-> Dash
    Layout -. Renders .-> Users
    Layout -. Renders .-> Pass
    Layout -. Renders .-> Settings
    
    Dash --> Stat
    Dash --> Recharts
    Dash --> Icons
    
    Users --> Icons
    Users --> Stat
    
    Pass --> Stat
    Pass --> Icons

    %% Styling
    style Layout fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    style Sidebar fill:#fff9c4,stroke:#fbc02d
    style Header fill:#fff9c4,stroke:#fbc02d
    style Dash fill:#e8f5e9,stroke:#2e7d32
    style Users fill:#e8f5e9,stroke:#2e7d32
    style Pass fill:#e8f5e9,stroke:#2e7d32
    style Settings fill:#e8f5e9,stroke:#2e7d32
        </pre>
    </div>

    <h2>2. Data Flow & Contexts</h2>
    <div class="description">
        How data flows from backend APIs into the frontend pages and components.
    </div>
    <div class="diagram-container">
        <pre class="mermaid">
graph LR
    subgraph "Backend API"
        API_Mem[GET /api/members]
        API_Pass[GET /api/passes]
    end

    subgraph "Frontend Pages"
        Dash[Dashboard Page]
        Users[User List Page]
    end

    subgraph "Shared Types"
        TypeUser[interface User]
        TypePkg[interface Package]
    end

    API_Mem -- JSON Data --> Dash
    API_Mem -- JSON Data --> Users
    
    Dash -. Maps Data to .-> TypeUser
    Users -. Maps Data to .-> TypeUser
    
    style API_Mem fill:#f3e5f5,stroke:#7b1fa2
    style TypeUser fill:#fff3e0,stroke:#e65100
        </pre>
    </div>

</body>

</html>